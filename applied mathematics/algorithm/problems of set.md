# Problem of Set

[TOC]

## Element search

### Bloom Filter

布隆过滤器（Bloom Filter）是一种空间效率极高的概率型数据结构，用于快速判断一个元素是否属于某个集合。其核心特点是用极小的存储空间换取查询效率，但代价是存在一定的误判率（False Positive，即可能误判存在但实际上不存在）。

- **位数组（Bit Array）**：布隆过滤器的底层是一个长度为 m*m* 的二进制位数组，初始全为0。
- **哈希函数（Hash Functions）**：使用 k*k* 个相互独立且均匀分布的哈希函数，每个函数将输入元素映射到位数组的某个位置。

**添加元素**：

- 将元素依次通过 k*k* 个哈希函数，得到 k*k* 个哈希值（对应位数组的 k*k* 个位置）。
- 将这些位置的值设为1。

**查询元素是否存在**：

- 将元素通过同样的 k*k* 个哈希函数，得到 k*k* 个位置。
- 若所有位置的值为1，则**可能存在**；若至少有一个位置为0，则**一定不存在**。



误判率 $p$ 的近似公式：
$$
p \approx \left(1 - e^{-kn/m}\right)^k
$$
最优哈希函数数量 $k$：
$$
k = \frac{m}{n} \ln 2
$$